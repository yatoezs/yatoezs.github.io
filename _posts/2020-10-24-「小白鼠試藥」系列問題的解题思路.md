---
title:		「老鼠試藥」系列問題的解题思路
subtitle:	有1000個一模一樣的瓶子，其中有999瓶是普通的水，有一瓶是毒药......
date:		2020-10-24
author:	y1
header-img: img/698710.jpg
catalog:	true
tags:
    - Algorithm
---

# 「小白鼠試藥」系列問題的解题思路

​	這類問題挺有說頭，涉及到了位運算、信息論、分治等。下面會從易到難對系列問題進行分析。

## 一、有1000個一模一樣的瓶子，其中有999瓶是普通的水，有一瓶是毒藥，外觀無法區別。現有10只小白鼠和無限多的幹淨試管，你怎麼找出那瓶毒藥？	（位運算）

### 	網上的答案（大致是這麼說的）：

​	考慮到2^10=1024,1000個瓶子編號爲0000000001-1000000000,10只小白鼠從上到下代表10位。然後按照瓶子編號，把藥水喂給對應位爲1的小白鼠，結束後看哪些位的小白鼠死掉了，將編號還原爲十進制即可。喂藥可以**按照編號一次一次喂（1.1）**，也可以**把位爲1編號的藥水摻起來，十種混合藥水分別給對應的小白鼠（1.2）**。

​	呵呵，這不是扯淡？題目中沒有給出毒藥服下後小白鼠多久死掉，也沒有給出限制時間，也沒說這小白鼠是普通小白鼠還是非常能喝的小白鼠。。

​	首先我們直接假設**毒藥喝下去就死**，那麼解法是多種多樣的，比如：

- 隨便挑一只小白鼠，一瓶一瓶的喂，喂到死掉，喝完就死的就是毒藥。

- 十只小白鼠，每只喝一百瓶（多線程！）
- 1.1

只有當**不確定什麼時候死**的話，才用得到1.2的方法。這其實是喂一次或喂多次的問題，假設題目要求每只小白鼠只能喂一次的話就1.2,不限制次數的話就上述三種方法都可以。

## 二、有1000個一模一樣的瓶子，其中有999瓶普通的水，有一瓶是毒藥，外觀無法區別。小白鼠喝下毒藥15分鍾後死去，若要在一個小時內找到這瓶毒藥，需要多少只小白鼠？（信息論）

​	看好了哈：這題不限制喂藥次數，隨便灌。

​	小白鼠喝藥後有兩種狀態：死/活，那麼在60/15=4個十五分中裏，小白鼠的「狀態」有：第一個15分鍾死，第二個15分鍾死，第三個十五分鍾死，第四個15分鍾死，一小時過去沒死。總共五種，熵爲-log（1/5），在1000瓶水裏找一瓶毒藥，熵爲-log（1/1000），5只小白鼠即可。

## 三、有1000個一模一樣的瓶子，其中有999瓶普通的水，有兩瓶是毒藥，外觀無法區別。小白鼠喝下毒藥15分鍾後死去，若要在一個小時內找到這瓶毒藥，需要多少只小白鼠？（分治）

​	這題就不細說了，主要說一下用分治來解決的思路。總體的思路就是將藥水平均分給n只小白鼠，根據小白鼠死1只還是死2只作出下一步選擇：

- ​	若死掉一只小白鼠，則可以確定「死亡的小白鼠所服用的藥水中有兩瓶毒藥」

- ​	若死掉兩只小白鼠，則可以確定「死亡的兩只小白鼠，所服用的藥水各自有一瓶毒藥」

  照這樣逐漸逼近即可找出毒藥。按照網絡上說法，對於本題使用這種解法需要10只小白鼠，具體我倒沒有去推。

# 總結

​	「小白鼠試藥」系列的問題，根據限定條件有多種多樣的變式，上述的三個問題使用的方法不同，只是爲了說明可以這麼做，其實這三個問題可以使用三種方法的任何一種進行解答。比如第三題由信息熵計算得出最優解爲9只小白鼠，但是需要把1000瓶藥水兩兩混合之後進行重新編碼，雖然在理論上9只是最優，但是在工程中我們需要在理論最優解與實際最優解決方案之間進行平衡來做出選擇。
